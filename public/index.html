<html>
  <head>
    <title>You're Much Older Than The Athletes You Cheer For</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://unpkg.com/nes.css@2.1.0/css/nes.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=VT323"
      rel="stylesheet"
    />
    <style>
      .nba {
        color: red;
      }
      .nfl {
        color: blue;
      }
      .mlb {
        color: green;
      }
      .nhl {
        color: purple;
      }
    </style>
    <script src="./chart.js"></script>
  </head>
  <body
    style="display: flex; flex-direction: column; align-items: center; font-family: VT323; background-image: linear-gradient(rgba(97, 8, 156, 0.5), rgb(247, 247, 139)),
 url('./sports.gif'); padding: 24px;"
  >
    <h1 style="color: cyan;">
      Enter your birthday to see what percentage of professional athletes in
      each sport are younger than you(MM/DD/YYYY)
    </h1>

    <input
      type="date"
      class="nes-input"
      id="birthday"
      style="width: 50%; margin-bottom: 16px;"
    />
    <button class="nes-btn is-primary" id="submit">Submit</button>
    <h1 id="nba" style="color: mediumspringgreen;"></h1>
    <progress
      id="nba-progress"
      class="nes-progress is-pattern"
      max="100"
      style="display: none;"
    ></progress>
    <h1 id="nba-age" style="color: mediumspringgreen;"></h1>
    <h1 id="nfl" style="color: tomato;"></h1>
    <progress
      id="nfl-progress"
      class="nes-progress is-pattern"
      max="100"
      style="display: none;"
    ></progress>
    <h1 id="nfl-age" style="color: tomato;"></h1>
    <h1 id="mlb" style="color: maroon;"></h1>
    <progress
      id="mlb-progress"
      class="nes-progress is-pattern"
      max="100"
      style="display: none;"
    ></progress>
    <h1 id="mlb-age" style="color: maroon;"></h1>

    <h1>
      <a href="https://github.com/conorhastings/AgeComparer">Source Code</a>
    </h1>
  </body>
  <script>
    const callback = () => {
      const birthday = document.getElementById("birthday").value;
      fetch(`/agedata?birthday=${birthday}`)
        .then(res => res.json())
        .then(response => {
          document.getElementById("mlb").innerText = `${
            response.mlb.percentageYounger
          } percent of MLB players are younger than you`;
          document.getElementById("mlb-progress").value = parseInt(
            response.mlb.percentageYounger
          );
          document.getElementById("mlb-progress").style.display = "initial";
          document.getElementById(
            "mlb-age"
          ).innerText = `The average age of an MLB player is ${
            response.mlb.averageAge
          }`;
          document.getElementById("nba").innerText = `${
            response.nba.percentageYounger
          } percent of NBA players are younger than you`;
          document.getElementById("nba-progress").value = parseInt(
            response.nba.percentageYounger
          );
          document.getElementById(
            "nba-age"
          ).innerText = `The average age of an NBA player is ${
            response.nba.averageAge
          }`;
          document.getElementById("nba-progress").style.display = "initial";

          document.getElementById("nfl").innerText = `${
            response.nfl.percentageYounger
          } percent of NFL players are younger than you`;
          document.getElementById("nfl-progress").value = parseInt(
            response.nfl.percentageYounger
          );
          document.getElementById("nfl-progress").style.display = "initial";

          document.getElementById(
            "nfl-age"
          ).innerText = `The average age of an NFL player is ${
            response.nfl.averageAge
          }`;
        });
    };
    document.getElementById("birthday").addEventListener("keydown", event => {
      if (event.code === "Enter") {
        callback();
      }
    });
    document.getElementById("submit").addEventListener("click", callback);
  </script>
</html>
